# If your compiler name is not given here, change it.
CC		= g++

CC_FLAGS	= -O3 -flto -mtune=generic -std=c++11

# These flags are not turned on by default, but DDS should pass them.
# Turn them on below.
WARN_FLAGS	= 		\
	-Wshadow 		\
	-Wsign-conversion 	\
	-pedantic -Wall -Wextra  \
	-Wcast-align -Wcast-qual \
	-Wctor-dtor-privacy 	\
	-Wdisabled-optimization \
	-Winit-self 		\
	-Wlogical-op 		\
	-Wmissing-declarations 	\
	-Wmissing-include-dirs 	\
	-Wnoexcept 		\
	-Wold-style-cast 	\
	-Woverloaded-virtual 	\
	-Wredundant-decls 	\
	-Wsign-promo 		\
	-Wstrict-null-sentinel 	\
	-Wstrict-overflow=1 	\
	-Wswitch-default -Wundef \
	-Werror 		\
	-Wno-unused 		\
	-Wno-unknown-pragmas 	\
	-Wno-long-long		\
	-Wno-format

# Here you can turn on warnings.
# CC_FULL_FLAGS	= $(CC_FLAGS)
CC_FULL_FLAGS	= $(CC_FLAGS) $(WARN_FLAGS)

LD_FLAGS	=

SOURCE_FILES 	=		\
	Auction.cpp		\
        Bexcept.cpp             \
        Bdiff.cpp               \
        Board.cpp               \
	Canvas.cpp		\
	Contract.cpp		\
	Date.cpp		\
	Deal.cpp		\
	Files.cpp		\
	Group.cpp		\
        Location.cpp            \
	Play.cpp		\
	Players.cpp		\
        Scoring.cpp             \
        Segment.cpp             \
        Session.cpp             \
	Tableau.cpp		\
        Teams.cpp               \
	Valuation.cpp		\
	args.cpp		\
	dispatch.cpp		\
	fileEML.cpp		\
	filePBN.cpp		\
	fileRBN.cpp		\
	fileTXT.cpp		\
	fileLIN.cpp		\
	fileREC.cpp		\
	parse.cpp		\
	reader.cpp		\
	ValProfile.cpp		\
	ValStats.cpp		\
	validate.cpp		\
	validateLIN.cpp		\
	validatePBN.cpp		\
	validateRBN.cpp		\
	validateTXT.cpp		\
	validateEML.cpp		\
	validateREC.cpp


OBJ_FILES	= $(subst .cpp,.o,$(SOURCE_FILES))

reader:	$(OBJ_FILES)
	$(CC) $(CC_FULL_FLAGS) $(OBJ_FILES) $(LD_FLAGS) -o reader

%.o:	%.cpp
	$(CC) $(CC_FULL_FLAGS) -c $< -o $*.o

depend:
	makedepend -Y -- $(SOURCE_FILES)

clean:
	rm -f $(OBJ_FILES) reader


# DO NOT DELETE

Auction.o: Auction.h bconst.h Contract.h parse.h portab.h Bexcept.h Bdiff.h
Bexcept.o: Bexcept.h
Bdiff.o: Bdiff.h
Board.o: bconst.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
Board.o: Play.h Valuation.h portab.h parse.h Bexcept.h Bdiff.h
Canvas.o: Canvas.h
Contract.o: Contract.h bconst.h parse.h portab.h Bexcept.h Bdiff.h
Date.o: Date.h bconst.h parse.h Bexcept.h Bdiff.h
Deal.o: Deal.h bconst.h parse.h Bexcept.h Bdiff.h
Files.o: Files.h bconst.h portab.h parse.h
Group.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
Group.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
Group.o: Play.h Bdiff.h
Location.o: Location.h bconst.h Bexcept.h Bdiff.h
Play.o: Play.h bconst.h Contract.h Bexcept.h Bdiff.h parse.h portab.h
Players.o: Players.h bconst.h parse.h Bexcept.h Bdiff.h
Scoring.o: Scoring.h bconst.h Bexcept.h Bdiff.h
Segment.o: Segment.h Date.h bconst.h Location.h Session.h Scoring.h Teams.h
Segment.o: Board.h Deal.h Tableau.h Players.h Auction.h Contract.h Play.h
Segment.o: portab.h parse.h Bexcept.h Bdiff.h
Session.o: Session.h bconst.h parse.h Bdiff.h Bexcept.h
Tableau.o: Tableau.h bconst.h Contract.h parse.h Bexcept.h Bdiff.h
Teams.o: bconst.h Teams.h Bexcept.h Bdiff.h parse.h portab.h
Valuation.o: Valuation.h
args.o: bconst.h args.h
dispatch.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
dispatch.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
dispatch.o: Play.h dispatch.h Files.h ValStats.h ValProfile.h validate.h
dispatch.o: fileLIN.h filePBN.h fileRBN.h fileTXT.h fileEML.h fileREC.h
dispatch.o: parse.h portab.h Bexcept.h Bdiff.h
fileEML.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
fileEML.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
fileEML.o: Play.h Canvas.h fileEML.h parse.h
filePBN.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
filePBN.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
filePBN.o: Play.h filePBN.h portab.h Bexcept.h
fileRBN.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
fileRBN.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
fileRBN.o: Play.h Bexcept.h fileRBN.h parse.h
fileTXT.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
fileTXT.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
fileTXT.o: Play.h Canvas.h fileTXT.h parse.h
fileLIN.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
fileLIN.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
fileLIN.o: Play.h fileLIN.h Bexcept.h
fileREC.o: Group.h Segment.h Date.h bconst.h Location.h Session.h Scoring.h
fileREC.o: Teams.h Board.h Deal.h Tableau.h Players.h Auction.h Contract.h
fileREC.o: Play.h Canvas.h fileREC.h parse.h Bexcept.h
parse.o: parse.h bconst.h portab.h
reader.o: args.h dispatch.h Files.h bconst.h Bexcept.h
ValProfile.o: ValProfile.h valint.h
ValStats.o: ValStats.h ValProfile.h bconst.h valint.h
validate.o: ValStats.h ValProfile.h bconst.h validate.h valint.h
validate.o: validateLIN.h validatePBN.h validateRBN.h validateTXT.h
validate.o: validateEML.h validateREC.h parse.h Bexcept.h
validateLIN.o: validate.h ValStats.h ValProfile.h bconst.h valint.h
validateLIN.o: validateLIN.h parse.h
validatePBN.o: validate.h ValStats.h ValProfile.h bconst.h valint.h
validatePBN.o: validatePBN.h parse.h
validateRBN.o: ValProfile.h validate.h ValStats.h bconst.h valint.h
validateRBN.o: validateRBN.h parse.h portab.h
validateTXT.o: validate.h ValStats.h ValProfile.h bconst.h valint.h
validateTXT.o: validateTXT.h parse.h
validateEML.o: validate.h ValStats.h ValProfile.h bconst.h valint.h
validateEML.o: validateEML.h parse.h portab.h
validateREC.o: validate.h ValStats.h ValProfile.h bconst.h valint.h
validateREC.o: validateREC.h parse.h
