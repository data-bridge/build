11.05.2017
----------
* Refline:
  Split into RefEdit

* Add count checks to Refline::modify
* simplify Files.cpp (no noval and skip)
* Simplify Buffer fix (always fix, not PARTIAL etc.)

* In dispatch, make boardIDLIN into an object?
* Detect COCO at least in LIN, PBN, RBN, RBX
  Then remove from those .ref files, also in BBOVG

* Do the rest of -D (377 files)
  Actually, improve Sheet.cpp first to make suggestions.
  This can then also eliminate heurfix.

* Get reader to work on RPmajors
  - Get whole RPmajors matrix to work

i\o     LIN     PBN     RBN     RBX     TXT     EML     REC     RPmajors
LIN     OK      OK      OK      OK      OK      OK      OK
PBN
RBN
RBX
TXT
EML
REC

refstats
LIN     OK
PBN     simple syntax
RBN     simple syntax
RBX
TXT
EML
REC

* ./reader -i 7090.pbn -O tmp -c -s -v 31 dies after 
  "Output tmp/PBN/7090.LIN", probably trying to compare/validate?

* Does it seem right that reader got so much faster with the .ref code change?

For RPmajors:

7. Same script for LIN
   LIN-LIN -R should then work (better)
   Some of the sick ordering in dispatch (and Segment?) may then resolve

8. Can probably take the same output lines for RBN, RBX, PBN
   Does this remove the "Room" tags in 3408 .fix lines?

11. How much of .fix can we move into .ref?
   Introduce replaceTXT? replacePBN? replaceRBN/RBX picking out
   the colon-separated target




Sheet
* Another str() function that outputs an IMP sheet, will also need vul
* Get rid of heurfix in favor of Sheet?
  Good outputs (try deleting a ref file), CHOOSE (line1) (line2)
* Can we then delete heurfix?

* Allow concatenated files: LIN, PBN (those two may work), RBN/RBX

Perl scripts in BBOVG
- Make director.pl run without warnings 
  (so have log files of acceptable deviations)

Data
- Include BBOVG and BBOSH up to today
- Look for more sources?  Later...

NERs
* Dates: Write extractor for embedded dates in tags
* Tourneys
* Player names

Higher semantics
* No duplicates in BBOSH (file names)
* Find unrealistic sequences (opening final contract) [valuation]
* Very expensive bids (offering huge upside score).
* Check links (http, www).  Also from deleted nt comments.
* Look again at players once we check the links in lin files.
* Store convention cards?
* Screenscrape major championships, compare.

* Write dispatch language suitable also for later SQL queries

update Pavlicek missive and Excel

Regression
----------
* ./reader -I -R -c -s -v 30 (maybe -p as well)
* ./reader -I -D -v 30
* perl refstats.pl BBOVG, BBOSH, BBOJEC, RPmajors
* perl skipnames.pl all (make it generate skip files)
* perl skiphands.pl all (make it generate skip files)
* perl director.pl dir (a lot, unfortunately)
* perl checkskip.pl all, perl checkref.pl all


Makefiles
---------
        compile runs    threads
-------------------------------
visual  yes     yes     yes
cygwin  yes     segf
mingw   almost
clang
ubuntu

Valuation
---------
Board: Valuation

Double-dummy
------------
* Tableau: Call DDS
* Trace: 
  - (1) old trace, can count mistakes
  - (2) new trace, can compare within suit and between suits,
    probably friend of Deal.  Need new DDS function?

How to multi-thread the DDS calls?
Threads consume single boards from segments (all instances).

Database
--------
Be able to store
- Play trace, including error types
- Hand to open bidding (0-4)
- board display number, can check dealer/vul then
- Files, Dirs (or combine?)
- Systems, and some characteristics
 Defenses, and some characteristics

Generate each of the tables in an sqlite DB as txt

Ingest them into sqlite in a separate program

some kind of "make" ("scour") looks for new or changed files.
Output proposed deltas to DB

Find a way to normalize all important text fields.

Should somehow recognize complete duplicates.
Remember to skip hands with no auction or with no players.


Syntax for .bsf files
---------------------
(Bridge script files)
player alias "Display,Last,First" "Display"
select segment "segment"
unselect segment
postpone (rerun in the end, e.g. for partner counts)
select board 7
(stuff to do with the selected board, e.g. contract)
Actually, make it sql-like
