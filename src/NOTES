28.12.2016
----------
* Find files with multiple player lines, write fix file
  that stops after first segment
* Find pairs files with lots of names, skip,
  but not if names are just repeated n times

May have deleted whole hands due to single bad cards...

No skip file without a lin file...

Files with long player lists, like normal play files (6939.lin).
Maybe find and reinstate these.
And multiple pn tags -- case 1: Multiple segments, case 2: 1 seg.

Sheet.cpp
* read unadulterated .lin file
  - header contracts
  - final bids
  - tricks from header
  - tricks from claim
  - http chats
  - vugraph operator chats on this and next 2 boards
* set DD tricks
* set info from .ref file
* print pure sheet, or comments including hand diagram and play
  and remaining cards

Output mode (format?) showing only team score per hand.

Files with lots of corrections

Look in particular at vugrapher's comments, often "sorry..."

37865.lin, c32: Why is 2NT, W and 1NT, W not flagged apart?
(Also perhaps doubled or not?)

Very expensive bids (offering huge upside score).
Very expensive or "stupid" plays (quickTricks?).

Detect complete skips from full ref files
In fact, for all erroneous files at all, no matter the error,
check the cards held

Check .ref files:
- in order
- cannot combine deletes
- no ref when skip

Files with > 50% lines deleted

Find unrealistic sequences (opening final contract)

Find when no "real" players

Screenscrape major championships, compare.
Check links (http, www).
Note single missing hands, investigate.


* miss.pl should start also in middle of files if late "not held" error.
* Why does it fail all in e.g. 101.txt after the initial error?
* When there is an initial fail, and we re-run, we get the position of
  the next error, so we can actually pinpoint all single errors at once.
* Should actually parse .ref file and modify the input before
  slurping it

Buffer should pick up .ref automatically.

No % comment in LIN except LIN_RP.

Make prettier line break in LIN print except LIN_RP.

Likely order:
* Ditto for files with only North,West etc.
* Ditto for files with only md||
* Turn off speculative file writers
* Run reader

            #qx
LIN_VG  948,965
LIN_RP   80,138
LIN     ~ 9,399 incl TRN
JEC      23,045

validate:
* Print example for each "error"

update Pavlicek missive and Excel

Still segfault at end?

Functionality
-------------
JEC PBN
- support ##
- Find way to ignore OptimumResult
LIN VG
- Include alerts in RBN
- Parse headers for semantic content
LIN shein
LIN tourneys

Test on concatenated RBN file

Add ability to store optimal results from PBN.

options
-------
-A analyse DD
-p play analyze DD
-n output all names to appropriately named text files

Makefiles
---------
        compile runs    threads
-------------------------------
visual  yes     yes     yes
cygwin  yes     segf
mingw   almost
clang
ubuntu

Valuation
---------
Board: Valuation

Double-dummy
------------
* Tableau: Call DDS
* Trace: 
  - (1) old trace, can count mistakes
  - (2) new trace, can compare within suit and between suits,
    probably friend of Deal.  Need new DDS function?

How to multi-thread the DDS calls?
Threads consume single boards from segments (all instances).

Database
--------
Be able to store
- Play trace, including error types
- Hand to open bidding (0-4)
- board display number, can check dealer/vul then
- Files, Dirs (or combine?)
- Systems, and some characteristics
- Defenses, and some characteristics

Generate each of the tables in an sqlite DB as txt

Ingest them into sqlite in a separate program

some kind of "make" ("scour") looks for new or changed files.
Output proposed deltas to DB

Find a way to normalize all important text fields.

Should somehow recognize complete duplicates.

Syntax for .bsf files
---------------------
(Bridge script files)
player alias "Display,Last,First" "Display"
select segment "segment"
unselect segment
postpone (rerun in the end, e.g. for partner counts)
select board 7
(stuff to do with the selected board, e.g. contract)
Actually, make it sql-like
